#:import basename os.path.basename

WindowManager:
    MainWindow:
    RecapWindow:
    ProgressWindow:

<MainWindow>:
    name: "main"

    RelativeLayout:

        Button:
            id: open_button
            text: "Apri"
            size_hint: 0.15,0.15
            pos_hint: {'top':0.95, 'x':0.05}
            font_size: 32
            on_release: root.choose_file()

        Label:
            id: filename_label
            text: basename(app.options.get_exc_path())
            size_hint: 0.15,0.15
            pos_hint: {'top':0.80, 'x':0.20}

        Button:
            id: visualize_button
            text: "Visualizza"
            size_hint: 0.25,0.10
            pos_hint: {'top':0.95, 'x':0.30}
            font_size: 32
            disabled: not app.options.get_exc_path()
            on_release: root.preview_excel()

        Button:
            text: "Impostazioni"
            size_hint: 0.5,0.25
            font_size: 32

        Button:
            text: "Invia"
            size_hint: 0.5,0.25
            font_size: 32
            pos_hint: {'center_x':0.5, 'center_y':0.5}
            on_release: app.root.current = "recap"

        Button:
            text: "Aggiungi foto"
            size_hint: 0.5,0.25
            font_size: 32

        TextInput:
            hint_text: "Inserisci un messaggio..."
            size_hint: 0.5,0.25
        TextInput:
            hint_text: "Inserisci riga di partenza..."
            size_hint: 0.5,0.25


<RecapWindow>:
    name:"recap"

<ProgressWindow>:
    name:"progress"